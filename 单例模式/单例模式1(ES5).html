<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <button id="button">点击</button>
    <!-- 
      单例模式：
               定义：1.只有一个实例  可以全局的访问
               主要解决：一个全局使用的类  频繁的创建和销毁
               何时使用：当你想控制实例的数目 节省系统化资源的时候
               如何实现：判断系统是否已经有这个单利 如果有则返回 没有则创建
               单例模式优点：内存中只要一个实例 减少了内存的开销 尤其是频繁的创建和销毁实例（如首页页面缓存）
        
        使用场景：1.全局的缓存 2.弹窗 
     -->

    <script>
        // ES5 实现  利用闭包 
        var createLoginLayer = (function () {
            var div;
            return function () {
                if (!div) {
                    div = document.createElement('div');
                    div.innerHTML = '我是登录的弹窗';
                    div.style.display = 'none';
                    document.body.appendChild(div);
                }
                return div;
            }
        })()

        document.getElementById('button').onclick = function () {
            var loginLayer = createLoginLayer();
            loginLayer.style.display = 'block';
        }
    </script>


</body>

</html>